<html>
  <head></head>
  <body>
    <div id="app"></div>
    <script>
      let num = 100000;
      let cursor = 0;
      let fragment = '';
      let step = 250;
      function foo(cursor, step) {
        fragment = '';
        for (let i = cursor; i < cursor + step; i++) {
          fragment += `<div>${i}</div>`;
        }
        window.requestAnimationFrame(() => {
          document.querySelector('#app').insertAdjacentHTML('beforeend', fragment);
          if (cursor < 100000) {
            foo(cursor + step, step);
          }
        });
      }
      foo(0, 250);
    </script>
  </body>
</html>
